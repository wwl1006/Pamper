# 管理员后台功能说明

## 📋 功能概览

管理员后台已全面升级，使用 Element Plus Menu 组件，提供完整的管理功能。

### 🎨 设计特点

1. **统一的视觉风格**
   - 深色侧边栏 (#2c3e50) 配合紫色渐变头部
   - 卡片式布局，圆角设计 (12px)
   - 统一的阴影效果和过渡动画
   - 响应式图表展示

2. **Element Plus Menu 侧边栏**
   - 图标化菜单导航
   - 子菜单支持
   - 高亮当前页面
   - 快速返回首页

## 🔧 核心功能模块

### 1. 数据概览 (/admin/dashboard) ⭐ 新增

**功能**：
- 实时统计数据卡片（用户、帖子、领养、活动、宠物档案、待处理事项）
- 用户增长趋势图（7天/30天切换）
- 帖子分类分布饼图
- 领养宠物类型统计
- 活动类型统计
- 平台互动数据柱状图
- 快捷操作入口
- 实时时间显示

**技术**：
- ECharts 图表可视化
- 响应式图表自适应
- 数据轮询刷新

### 2. 用户管理 (/admin/users)

**功能**：
- 查看所有用户列表
- 显示用户头像、用户名、邮箱、类型、状态
- 启用/禁用用户账号
- 分页查询（可调整每页数量）

**权限**：
- 不能禁用管理员账号
- 需要二次确认操作

### 3. 内容审核 (/admin/review)

**功能**：
- **帖子审核**：审核待发布的社区帖子
- **领养审核**：审核待发布的宠物领养信息
- **活动审核**：审核待发布的平台活动

**操作**：
- 通过/拒绝内容
- 查看详细信息
- 分页浏览

### 4. 发送公告 (/admin/notice)

**功能**：
- 发送系统公告（全体用户可见）
- 查看公告历史记录
- 实时刷新公告列表

**特点**：
- 字数限制（255字）
- 实时字数统计
- 发送记录可追溯

## 🛠️ 后端API

### 统计接口

```
GET /api/admin/dashboard/stats
- 获取平台总体统计数据

GET /api/admin/dashboard/user-growth?days=7
- 获取用户增长数据

GET /api/admin/dashboard/content-stats
- 获取内容统计（帖子分类、领养类型、互动数据）

GET /api/admin/dashboard/activity-stats
- 获取活动统计数据
```

### 用户管理接口

```
GET /api/admin/users?page=1&pageSize=20
- 获取用户列表

PUT /api/admin/users/{userId}/status?status=1
- 更新用户状态
```

### 审核接口

```
GET /api/admin/posts/pending
GET /api/admin/adoptions/pending
GET /api/admin/activities/pending
- 获取待审核内容

PUT /api/admin/posts/{id}/review?status=1
PUT /api/admin/adoptions/{id}/review?status=1
PUT /api/admin/activities/{id}/review?status=1
- 审核内容（status: 1=通过, 2=拒绝）
```

## 🎯 使用指南

### 访问管理后台

1. 使用管理员账号登录
2. 访问 `/admin` 或点击相关入口
3. 默认重定向到数据概览页面

### 权限验证

- 只有 `user_type = 0` 的管理员可以访问
- 路由级别权限控制
- 后端接口二次验证

### 快捷操作

在数据概览页面提供快捷入口：
- 内容审核（显示待处理数量徽章）
- 用户管理
- 发送公告
- 返回首页

## 📁 文件结构

```
Pamper-Front/src/
├── components/
│   └── AdminSidebar.vue          # 管理员侧边栏（新增）
├── views/
│   ├── AdminManageView.vue       # 管理员布局（更新）
│   ├── AdminDashboardView.vue    # 数据概览（新增）
│   ├── AdminUsersView.vue        # 用户管理（优化样式）
│   ├── AdminReviewView.vue       # 内容审核（优化样式）
│   └── AdminNoticeView.vue       # 发送公告（优化样式）
└── router/index.js               # 路由配置（新增dashboard）
```

## 🎨 样式规范

### 颜色方案

- 主色调：紫色渐变 (#667eea → #764ba2)
- 侧边栏：深灰 (#2c3e50)
- 背景色：浅灰 (#f5f6fa)
- 激活色：蓝色 (#3498db)

### 组件规范

- 圆角：12px
- 卡片阴影：0 2px 12px rgba(0, 0, 0, 0.08)
- 过渡时间：0.3s
- 字体大小：标题 28px，正文 14px

## 📊 数据统计说明

### 统计维度

1. **用户维度**
   - 总用户数
   - 活跃用户数
   - 每日新增用户

2. **内容维度**
   - 已发布帖子
   - 待审核帖子
   - 领养信息
   - 帖子分类分布

3. **活动维度**
   - 总活动数
   - 待审核活动
   - 活动类型分布
   - 活动报名统计

4. **互动维度**
   - 总点赞数
   - 总评论数

5. **宠物维度**
   - 宠物档案总数
   - 领养宠物类型分布

## 🔄 更新日志

### 2025-11-26

- ✅ 创建 AdminSidebar 组件（Element Plus Menu）
- ✅ 新增 AdminDashboardView 数据概览页面
- ✅ 优化所有管理页面样式，统一风格
- ✅ 添加 dashboard 路由
- ✅ 集成 ECharts 图表展示
- ✅ 添加快捷操作入口
- ✅ 完善权限验证机制

## 🚀 后续优化建议

1. **功能增强**
   - 添加数据导出功能
   - 实现更细粒度的权限控制
   - 添加操作日志记录
   - 实现批量操作

2. **性能优化**
   - 图表数据缓存
   - 列表虚拟滚动
   - WebSocket 实时通知

3. **用户体验**
   - 添加操作引导
   - 提供数据筛选功能
   - 支持深色模式
   - 移动端适配
